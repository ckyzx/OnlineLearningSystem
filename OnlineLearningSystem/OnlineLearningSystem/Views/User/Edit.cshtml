@model OnlineLearningSystem.ViewModels.VMUser
@{
    ViewBag.Title = "修改用户";
    Layout = "~/Views/Shared/_PageEdit.cshtml";
}
<div class="pd-20">
    @using (Html.BeginForm("Edit", "User", FormMethod.Post, new { @class = "form form-horizontal" }))
    {
        @Html.ValidationSummary(true)
        @Html.HiddenFor(m => m.U_Id)
        @Html.HiddenFor(m => m.U_AddTime)
        @Html.HiddenFor(m => m.U_Sort)
        <div class="row cl">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.U_Status)
            </label>
            <div class="formControls col-2">
                <span class="select-box">
                    @Html.EditorFor(m => m.U_Status, "Status")
                </span>
                @Html.ValidationMessageFor(m => m.U_Status)
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.U_IdCardNumber)
            </label>
            <div class="formControls col-2">
                @Html.TextBoxFor(m => m.U_IdCardNumber, new { @class = "input-text" })
                @Html.ValidationMessageFor(m => m.U_IdCardNumber)
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.U_Name)
            </label>
            <div class="formControls col-2">
                @Html.TextBoxFor(m => m.U_Name, new { @class = "input-text" })
                @Html.ValidationMessageFor(m => m.U_Name)
            </div>
        </div>
        <div class="row cl hide">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.U_LoginName)
            </label>
            <div class="formControls col-2">
                @Html.TextBoxFor(m => m.U_LoginName, new { @class = "input-text" })
                @Html.ValidationMessageFor(m => m.U_LoginName)
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.U_Password)
            </label>
            <div class="formControls col-2">
                @Html.PasswordFor(m => m.U_Password, new { @class = "input-text" })
                @Html.ValidationMessageFor(m => m.U_Password)
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.U_RePassword)
            </label>
            <div class="formControls col-2">
                @Html.PasswordFor(m => m.U_RePassword, new { @class = "input-text" })
                @Html.ValidationMessageFor(m => m.U_RePassword)
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.Du_Id)
            </label>
            <div class="formControls col-2">
                <span class="select-box">
                    @Html.DropDownListFor(m => m.Du_Id, (List<SelectListItem>)ViewBag.Duties, new { @class = "select" })
                </span>
                @Html.ValidationMessageFor(m => m.Du_Id)
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.U_Departments)
            </label>
            <div class="formControls col-10">
                <table class="table table-border table-bordered table-bg table-hover table-sort department-table">
                    <thead>
                        <tr>
                            <th class="text-c">
                                <input type="checkbox" name="" value="" />
                            </th>
                            <th>
                                ID
                            </th>
                            <th>
                                名称
                            </th>
                            <th>
                                添加时间
                            </th>
                            <th>
                                备注
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in ViewBag.Departments)
                        {
                            <tr>
                                <td class="text-c">
                                    <input type="checkbox" value="@item.D_Id" />
                                </td>
                                <td>@item.D_Id
                                </td>
                                <td>@item.D_Name
                                </td>
                                <td>@item.D_AddTime
                                </td>
                                <td>@item.D_Remark
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
                @Html.HiddenFor(m => m.U_Departments)
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.U_Roles)
            </label>
            <div class="formControls col-10">
                <table class="table table-border table-bordered table-bg table-hover table-sort role-table">
                    <thead>
                        <tr>
                            <th class="text-c">
                                <input type="checkbox" name="" value="" />
                            </th>
                            <th>
                                ID
                            </th>
                            <th>
                                名称
                            </th>
                            <th>
                                添加时间
                            </th>
                            <th>
                                备注
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in ViewBag.Roles)
                        {
                            <tr>
                                <td class="text-c">
                                    <input type="checkbox" value="@item.R_Id" />
                                </td>
                                <td>@item.R_Id
                                </td>
                                <td>@item.R_Name
                                </td>
                                <td>@item.R_AddTime
                                </td>
                                <td>@item.R_Remark
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
                @Html.HiddenFor(m => m.U_Roles)
                @Html.ValidationMessageFor(m => m.U_Roles)
            </div>
        </div>
        <div class="row cl">
            <label class="form-label col-2">
                @Html.LabelFor(m => m.U_Remark)
            </label>
            <div class="formControls col-4">
                @Html.TextAreaFor(m => m.U_Remark, new { @class = "textarea" })
                @Html.ValidationMessageFor(m => m.U_Remark)
            </div>
        </div>
        <div class="row cl">
            <div class="col-10 col-offset-2">
                <input class="btn btn-primary radius" type="submit" value="&nbsp;&nbsp;保存&nbsp;&nbsp;" />
                <button onclick="layer_close();" class="btn btn-default radius" type="button">
                    &nbsp;&nbsp;取消&nbsp;&nbsp;</button>
            </div>
        </div>
    }
</div>
<script type="text/javascript" src="@Url.Content("~/Content/lib/datatables/1.10.9/jquery.dataTables.min.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/Department/ListLocal.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/Role/ListLocal.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Content/js/User/Edit.js")"></script>
